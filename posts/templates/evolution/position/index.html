<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Evolution Position</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="../../file.js"></script>
    <script src="../../overall.js"></script>
    <script src="../../controls.js"></script>
    <link rel="stylesheet" type="text/css" href="../../overall.css">
</head>
<body>

    <div class="main">
        <div class="config">
            <div><span>Players: </span><input id="player" type="file"></div>
            <span>Background Image URL:</span><input id="playerImageURL"/>
            <select id="positionSelect">
                <option>GK</option>
                <option>SW</option>
                <option>RWB</option>
                <option>RB</option>
                <option>RCB</option>
                <option>CB</option>
                <option>LCB</option>
                <option>LB</option>
                <option>LWB</option>
                <option>RDM</option>
                <option>CDM</option>
                <option>LDM</option>
                <option>RM</option>
                <option>RCM</option>
                <option>CM</option>
                <option>LCM</option>
                <option>LM</option>
                <option>RW</option>
                <option>RAM</option>
                <option>CAM</option>
                <option>LAM</option>
                <option>LW</option>
                <option>RF</option>
                <option>RS</option>
                <option>CF</option>
                <option>LS</option>
                <option>LF</option>
                <option>ST</option>
            </select>
            <input id="mainColor" type="color" >
            Top: <input type="range" min="-300" max="300" value="50" class="slider" id="imageTop">
            Left: <input type="range" min="-300" max="300" value="50" class="slider" id="imageLeft">
            Width: <input type="range" min="200" max="900" value="350" class="slider" id="imageWidth">
            Height: <input type="range" min="200" max="900" value="350" class="slider" id="imageHeight">
        </div>
        <div class="background-image"></div>
        <div id="imgPost" class="post">
            <img src="../../tfs-logo.png" class="tfs-logo">
            <div class="title">
                <div class="player-name-text">Best GKs</div>

            </div>
            <div class="chart"></div>
            <textarea rows="15" cols="100" id="postDescription">
Those are the best {position} from FIFA 07-20
Which one do you like the most?

How we build this graph ðŸ› 
- We get the max overall for each FIFA Version
- Game updates are NOT considered, only the first version of the main release
- If two players have the same overall, we choose the one we like the most!

FOLLOW: @thefifastats
FOLLOW: @thefifastats
FOLLOW: @thefifastats

More players and more stats to come!
            </textarea>
        </div>
    </div>
    <script>
        loadFileContent('#player', data => {
            $('div.chart').empty()
            $.each(data, (index, item) => {
                let bar = ''
                bar += '<div class="container">'
                bar += '    <div class="bar" id="bar-' + index + '">'
                bar += '    </div>'
                bar += '    <div class="fifa-version"><img src="../../fifa-logos/fifa-' + item['version_name'] + '.jpg"></div>'
                bar += '    <div class="bar-top">'
                bar += '        <div class="overall" id="overall-' + index + '">' + item['value'] + '</div>'
                bar += '    </div>'
                bar += '    <div class="team-logo"><img src="' + item['image_url'] + '"></div>'
                bar += '    <div class="name">'+ item['name'] + '</div>'
                bar += '</div>'

                $('div.chart').append(bar)
                updateOverallColor($('#overall-' + index), item['value'])
                $('#bar-' + index).css('width', item['value'] * item['value'] / 40)
            })
        })
        $('#playerImageURL').on('change', event => {
            $('.background-image').css('background-image', 'url("' + event.target.value + '")')
        })
        $('#positionSelect').on('change', event => {
            $('.player-name-text').text('BEST ' + event.target.value + 's')
            $('#postDescription').text($('#postDescription').text().replace('{position}', event.target.value + '\'s'))
        })
        $('#mainColor').on('change', event => {

            $('.player-name-text').css('background', event.target.value)
            $('.bar').css('background-color', event.target.value)
        })
        createImageControls($('.background-image'), $('#imageTop'), $('#imageLeft'), $('#imageWidth'), $('#imageHeight'))
    </script>
</body>
</html>
